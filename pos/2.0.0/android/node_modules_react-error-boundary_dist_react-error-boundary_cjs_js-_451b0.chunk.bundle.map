{"version":3,"file":"node_modules_react-error-boundary_dist_react-error-boundary_cjs_js-_451b0.chunk.bundle","sources":["webpack://pos/./node_modules/react-error-boundary/dist/react-error-boundary.cjs.js"],"sourcesContent":["'use client';\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar react = require('react');\n\nconst ErrorBoundaryContext = react.createContext(null);\n\nconst initialState = {\n  didCatch: false,\n  error: null\n};\nclass ErrorBoundary extends react.Component {\n  constructor(props) {\n    super(props);\n    this.resetErrorBoundary = this.resetErrorBoundary.bind(this);\n    this.state = initialState;\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      didCatch: true,\n      error\n    };\n  }\n  resetErrorBoundary() {\n    const {\n      error\n    } = this.state;\n    if (error !== null) {\n      var _this$props$onReset, _this$props;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_this$props$onReset = (_this$props = this.props).onReset) === null || _this$props$onReset === void 0 ? void 0 : _this$props$onReset.call(_this$props, {\n        args,\n        reason: \"imperative-api\"\n      });\n      this.setState(initialState);\n    }\n  }\n  componentDidCatch(error, info) {\n    var _this$props$onError, _this$props2;\n    (_this$props$onError = (_this$props2 = this.props).onError) === null || _this$props$onError === void 0 ? void 0 : _this$props$onError.call(_this$props2, error, info);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      didCatch\n    } = this.state;\n    const {\n      resetKeys\n    } = this.props;\n\n    // There's an edge case where if the thing that triggered the error happens to *also* be in the resetKeys array,\n    // we'd end up resetting the error boundary immediately.\n    // This would likely trigger a second error to be thrown.\n    // So we make sure that we don't check the resetKeys on the first call of cDU after the error is set.\n\n    if (didCatch && prevState.error !== null && hasArrayChanged(prevProps.resetKeys, resetKeys)) {\n      var _this$props$onReset2, _this$props3;\n      (_this$props$onReset2 = (_this$props3 = this.props).onReset) === null || _this$props$onReset2 === void 0 ? void 0 : _this$props$onReset2.call(_this$props3, {\n        next: resetKeys,\n        prev: prevProps.resetKeys,\n        reason: \"keys\"\n      });\n      this.setState(initialState);\n    }\n  }\n  render() {\n    const {\n      children,\n      fallbackRender,\n      FallbackComponent,\n      fallback\n    } = this.props;\n    const {\n      didCatch,\n      error\n    } = this.state;\n    let childToRender = children;\n    if (didCatch) {\n      const props = {\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      };\n      if (typeof fallbackRender === \"function\") {\n        childToRender = fallbackRender(props);\n      } else if (FallbackComponent) {\n        childToRender = react.createElement(FallbackComponent, props);\n      } else if (fallback !== undefined) {\n        childToRender = fallback;\n      } else {\n        throw error;\n      }\n    }\n    return react.createElement(ErrorBoundaryContext.Provider, {\n      value: {\n        didCatch,\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      }\n    }, childToRender);\n  }\n}\nfunction hasArrayChanged() {\n  let a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return a.length !== b.length || a.some((item, index) => !Object.is(item, b[index]));\n}\n\nfunction assertErrorBoundaryContext(value) {\n  if (value == null || typeof value.didCatch !== \"boolean\" || typeof value.resetErrorBoundary !== \"function\") {\n    throw new Error(\"ErrorBoundaryContext not found\");\n  }\n}\n\nfunction useErrorBoundary() {\n  const context = react.useContext(ErrorBoundaryContext);\n  assertErrorBoundaryContext(context);\n  const [state, setState] = react.useState({\n    error: null,\n    hasError: false\n  });\n  const memoized = react.useMemo(() => ({\n    resetBoundary: () => {\n      context.resetErrorBoundary();\n      setState({\n        error: null,\n        hasError: false\n      });\n    },\n    showBoundary: error => setState({\n      error,\n      hasError: true\n    })\n  }), [context.resetErrorBoundary]);\n  if (state.hasError) {\n    throw state.error;\n  }\n  return memoized;\n}\n\nfunction withErrorBoundary(component, errorBoundaryProps) {\n  const Wrapped = react.forwardRef((props, ref) => react.createElement(ErrorBoundary, errorBoundaryProps, react.createElement(component, {\n    ...props,\n    ref\n  })));\n\n  // Format for display in DevTools\n  const name = component.displayName || component.name || \"Unknown\";\n  Wrapped.displayName = \"withErrorBoundary(\".concat(name, \")\");\n  return Wrapped;\n}\n\nexports.ErrorBoundary = ErrorBoundary;\nexports.ErrorBoundaryContext = ErrorBoundaryContext;\nexports.useErrorBoundary = useErrorBoundary;\nexports.withErrorBoundary = withErrorBoundary;\n"],"names":["Object","exports","react","require","ErrorBoundaryContext","initialState","ErrorBoundary","props","resetErrorBoundary","error","_this$props$onReset","_this$props","_len","arguments","args","Array","_key","componentDidCatch","info","_this$props$onError","_this$props2","componentDidUpdate","prevProps","prevState","didCatch","resetKeys","hasArrayChanged","_this$props$onReset2","_this$props3","render","_this_props","children","fallbackRender","FallbackComponent","fallback","_this_state","childToRender","undefined","getDerivedStateFromError","a","b","item","index","assertErrorBoundaryContext","value","Error","useErrorBoundary","context","_react_useState","state","setState","memoized","withErrorBoundary","component","errorBoundaryProps","Wrapped","ref","name"],"mappings":"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"}